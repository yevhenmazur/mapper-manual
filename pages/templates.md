---
title: Підложки; введення
authors:
  - Peter Hoban
  - Thomas Schoeps
  - Yevhen Mazur
keywords: Підложки
edited: 03 вересня 2016
---

<p>Зображення, треки з GPS приймачів а також інші матеріали, що використовуються в якості основи для спортивної карти називаються підложками. Вони можуть бути підключені до файлу карти за допомогою вікна параметрів підложок, що доступне через меню Підложки -&gt; Вікно параметрів підложок. Підложки також можуть використовуватись "не за призначенням" щоб зобразити певну інформацію на кінцевій карті, наприклад логотип спонсора, який доступний виключно у растровому форматі.</p>

<p><b>Увага</b>: Оскільки операції відмінити/повернути не поширюються на підложки, переконайтеся що зберегли файл перед тим як правити їх!</p>

<a name="types"><h4>Типи підложок</h4></a>
<p>OpenOrienteering Mapper дозволяє підключити в якості підложок файли таких форматів:</p>
<ul>
<li><a href="#type_image">Зображення</a>: bmp, jpg, png, tif, gif файли</li>
<li><a href="#type_track">Треки</a>: dxf, gpx, osm файли</li>
<li><a href="#type_map">Карти</a>: omap, ocd файли</li>
</ul>

<p>Додатково, підложки можна розділити на <b>геоприв'язані</b> та <b>негеоприв'язані</b>. Для геоприв'язаних підложок доступна інформація щодо їх точного позиціонування у відомій системі світових координат - див. <a href="georeferencing.md">геоприв'язка</a>. Таким чином, вони можуть бути автоматично позиціоновані на карті, за умови що карта також є геоприв'язаною. Для негеоприв'язаних підложок, ця інформація недоступна, тому їх доведеться <a href="#positioning">позиціонувати вручну</a>.

<a name="setup"><h4>Вікно параметрів підложок</h4></a>

<br/><br/><img src="images/template_setup_window.png" border="0" /><br/><br/>

<p>Це вікно відкривається через пункт меню Підложки -&gt; Вікно параметрів підложок. У його центральній частині знаходиться список усіх відкритих підложок. Шар з самою картою також показаний тут. Послідовність елементів у цьому списку визначає порядок у якому вони будуть відтворені: перший буде з самого верху, останній - внизу.</p>

<p>Кожен елемент може бути прихований або показаний за допомогою флагу у лівій частині. Крім цього, є можливість керувати прозорістю кожного шару, задаючи відсоток непрозорості.</p>

<h4 id="open">Відкриття підложки</h4>
<p>Клацніть на кнопку "Додати підложку..." у вікні параметрів підложок і виберіть файл що має бути підключений як підложка. Див. <a href="#types">типи підложок</a> щоб дізнатися про всі підтримувані формати файлів.</p>

<h4 id="draw_order">Зміна порядку відтворення підложок</h4>
<p>Коли підложка вибрана, її можна рухати вверх або вниз по списку за допомогою кнопок Підняти/Опустити, це також змінює порядок у якому вона буде відтворена.</p>

<h4 id="close">Видалення або закриття підложки</h4>
<p>Використовуючи кнопку Видалити або Закрити, можна відключити підложку. Назва кнопки залежить від <a href="settings.md#keep_closed_templates">відповідної настройки</a> "запам'ятовувати налаштування закритих підложок": якщо вона активна, кнопка буде позначена як "Закрити" і залишиться можливість повторно відкрити підложку за допомогою пункту меню Підложки -&gt; Відкрити підложку знову..., у іншому випадку це буде "Видалити" без можливості повторно відкривати підложку в майбутньому.</p>

<h4 id="positioning">Позиціонування</h4>
<p>У нижній частині вікна розміщено інструменти для позиціонування підложки:</p>

<p>Кнопка з решіткою показує чи є підложка <b>геоприв'язаною</b>. Пізніше з'явиться можливість змінювати налаштування геоприв'язки за допомогою цієї кнопки, але поки що це не реалізовано.</p>

<p>Кнопка <b>Перемістити вручну</b> дозволяє рухати негеоприв'язану підложку відносно карти мишкою. Для цього клікніть на <b>Перемістити вручну</b> і перетягуйте підложку мишкою прямо в області відображення карти.</p>

<p>Праворуч знаходиться перемикач <b>Правка - Позиціонування</b>. Він активує вікно, яке дозволяє позиціонувати негеоприв'язану підложку вводом чисел з клавіатури. Тут можна задати зміщення по осям X та Y, різні масштаби по цим осям, а також обертання підложки на довільний кут.</p>

<p><a name="adjust">У центрі панелі розташована кнопка <b>Сумістити</b>, з червоним і зеленим крестиками. Цей інструмент дозволяє сумістити певні точки на негеоприв'язаній підложці з відповідними точками на іншій підложці або на карті, що вже має правильну позицію.</a> <a href="template_adjust.md">Більш детальні інструкції тут</a>.</p>


<h4>Типи підложок</h4>

<a name="type_image"><h3>Зображення</h3></a>

<p>До цього типу підложок належать усі растрові зображення. Відкриваючи підложку такого типу, ви побачите діалог як на ілюстрації нижче:</p>

<br/><br/><img src="images/template_image_positioning.png" border="0" /><br/><br/>

<h4>Позиціонування за геоприв'язкою</h4>

<p>Ця опція доступна лише якщо зображення супроводжується інформацією щодо геоприв'язки. OpenOrienteering Mapper підтримує такий супровід через world-файли з відповідними іменами. World-фал для зображення повинен мати таке саме ім'я як і файл зображення і знаходитись в тій самій папці. Розширення world-фала залежить від розширення файлу зображення: воно формується з першої літери розширення файлу зображення, потім іде остання літера з цього розширення і в кінці додається літера w. Наприклад, world-файл для зображення у форматі bmp буде мати розширення bpw, а для tiff це буде tfw. Як альтернатива, розширення world-фалу може також бути wld.</p>

<p>World-файл це текстовий файл, що містить 6 елементів для трансформації піксельної матриці растрового зображення у геодезичні координати, відповідно до деякої базової системи координат (БСК) (<a href="http://en.wikipedia.org/wiki/World_file">детальніше про World-файл у Wikipedia</a> *(англ.)*). Нажаль, у world-файлі неможливо вкзати яка саме БСК мається на увазі. Тому, якщо ви обираєте цей варіант позиціонування, вам доведеться вказати систему координат на наступному кроці. Ви можете отримати цю інформацію з того джерела, звідки ви отримали зображення з world-файлом. На приклад, для Німеччини *(як і для України)* це зазвичай UTM або СК Гауса-Крюгера з обмежаним діапазоном зон Гауса-Крюгера.</p>

<p>Для того щоб позиціонування за геопрв'язкою працювало, карта також має бути геоприв'язаною. Якщо, наразі це не так, <a href="georeferencing.md">діалог геоприв'язки карти</a> буде показаний наступним кроком, у якості опорної точки буде використано центер зображення, що ми підключаємо.</p>

<h4>Позиціонування вручну</h4>

<p>Слід застосовувати цей метод позиціонування лише в тому випадку, якщо зображення не супроводжується ніякою інформацією щодо геоприв'язки. Для початку, є кілька варіантів як вказати масштаб зображення:</p>

<ul>
<li><b>Метри на піксель</b>: це насамперед корисно якщо базове зображення отримане з цифрового джерела, з якого ви безпосередньо можете отримати цю величину. У іншому випадку, ви можете обчислити її самостійно: якщо ваша польова чорнетка покриває 500м місцевості в ширину і ширина зображення має 1200 пікселів, тоді масштаб буде 500 / 1200 = 0.625 метрів на піксел. (Зверніть увагу що ми говоримо про точну кількість метрів у ширині зображення.)</li>
<li><b>Властивості сканування</b>: якщо ваша польова чорнетка має відомий масштаб (скажімо 1:5000), і вона сканована з відомою роздільною здатністю (хай буде 300 dpi) тоді ці параметри можуть бути введені в форму установки масштабу польової чорнетки. Мається на увазі що принтер і сканер працюють точно.</li>
</ul>

<p>Зверніть увагу, якщо ви не знаєте масштабу зображення та / або все одно збираєтесь установлювати підложку за допомогою інструменту <a href="#adjust">Сумістити</a>, ви можете ввести будь-які дані у цю форму, бо масштаб і позиціонування все одно буде змінене.</p>

<a name="type_track"><h3>Трек</h3></a>

<p>Підложки такого типу можуть бути отримані з GPS приймача (включаючи точки шляху *(waypoints)*), або у вигляді векторної графіки, такої як dxf файли. Щодо останніх, вам доведеться вказати ще й базову систему координат. Якщо це лише негеоприв'язанай малюнок, виберіть варіант "Локально" і він не буде викривлений ніяким чином.</p>

<a name="type_map"><h3>Карти</h3></a>

<p>Це означає що можливо підключити карту в якості підложки для іншої карти. Є два випаки у яких це може знадобитись:</p>

<ul>
<li>Підключення старої спортивної карти, щоб зробити нову поверх неї.</li>
<li>Підключення спортивної карти, щоб намалювати на ній дистанцію.</li>
</ul>

<p>На даний момент, підложка у форматі карти може бути підключена лише як негеоприв'язана.</p>

